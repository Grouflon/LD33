<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Player events</name>
    <events>
        <event-block sid="117780688514014">
            <conditions>
                <condition id="-18" name="On created" sid="6470817478019874" type="Player" />
            </conditions>
            <actions>
                <action id="-4" name="Set position to another object" sid="7748016345945401" type="KillZone">
                    <param id="0" name="Object">Player</param>
                    <param id="1" name="Image point (optional)">&quot;Killzone&quot;</param>
                </action>
                <action id="-8" name="Set angle" sid="1086147253978774" type="KillZone">
                    <param id="0" name="Angle">Player.Angle</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="1708668033361204" type="KillZone">
                    <param id="0" name="Pin to">Player</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action id="-4" name="Set position to another object" sid="1627811227381867" type="PlayerSprite">
                    <param id="0" name="Object">Player</param>
                    <param id="1" name="Image point (optional)">0</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="982896933790367" type="PlayerSprite">
                    <param id="0" name="Pin to">Player</param>
                    <param id="1" name="Mode">1</param>
                </action>
                <action id="-4" name="Set position to another object" sid="5942023198011463" type="PsychoIcon">
                    <param id="0" name="Object">PlayerSprite</param>
                    <param id="1" name="Image point (optional)">&quot;Icon&quot;</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="1074236191841525" type="PsychoIcon">
                    <param id="0" name="Pin to">PlayerSprite</param>
                    <param id="1" name="Mode">1</param>
                </action>
                <action id="-15" name="Set visible" sid="2174303712622318" type="PsychoIcon">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="-4" name="Set position to another object" sid="8790823989749992" type="NormalIcon">
                    <param id="0" name="Object">PlayerSprite</param>
                    <param id="1" name="Image point (optional)">&quot;Icon&quot;</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="2158516209360517" type="NormalIcon">
                    <param id="0" name="Pin to">PlayerSprite</param>
                    <param id="1" name="Mode">1</param>
                </action>
                <action id="-15" name="Set visible" sid="371828651056021" type="NormalIcon">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="-4" name="Set position to another object" sid="3788087118992354" type="TalkIcon">
                    <param id="0" name="Object">PlayerSprite</param>
                    <param id="1" name="Image point (optional)">&quot;Icon&quot;</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="156262516825295" type="TalkIcon">
                    <param id="0" name="Pin to">PlayerSprite</param>
                    <param id="1" name="Mode">1</param>
                </action>
                <action id="-15" name="Set visible" sid="1127934759554986" type="TalkIcon">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="-4" name="Set position to another object" sid="4042093957852503" type="KillIcon">
                    <param id="0" name="Object">PlayerSprite</param>
                    <param id="1" name="Image point (optional)">&quot;Icon&quot;</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="9688701947381284" type="KillIcon">
                    <param id="0" name="Pin to">PlayerSprite</param>
                    <param id="1" name="Mode">1</param>
                </action>
                <action id="-15" name="Set visible" sid="8989250591015737" type="KillIcon">
                    <param id="0" name="Visibility">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="6612596084894984">
            <conditions>
                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="8522503785816334" type="Player">
                    <param id="0" name="Instance variable">enabled</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="8" name="Set enabled" sid="2415704568973309" type="Player">
                    <param id="0" name="State">0</param>
                </action>
                <action behavior="8Direction" id="0" name="Stop" sid="3370036148757098" type="Player" />
            </actions>
        </event-block>
        <event-block sid="3301118997317938">
            <conditions>
                <condition id="-8" name="Is boolean instance variable set" sid="9578487821890682" type="Player">
                    <param id="0" name="Instance variable">enabled</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="8" name="Set enabled" sid="1678539559543727" type="Player">
                    <param id="0" name="State">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="5713561931974038">
            <conditions>
                <condition id="-1" name="Every tick" sid="6402489947420696" type="System" />
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="8163666655576073" type="Player">
                    <param id="0" name="Instance variable">seenCount</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="224079054617879">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="3217929618211834" type="Victim">
                            <param id="0" name="Instance variable">seePlayer</param>
                        </condition>
                        <condition id="-11" name="For Each" sid="8874350533880646" type="System">
                            <param id="0" name="Object">Victim</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="2124208258003814" type="Player">
                            <param id="0" name="Instance variable">seenCount</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-group description="" sid="1716820840030327" title="Animation">
            <sub-events>
                <event-block sid="3059946729671367">
                    <conditions>
                        <condition id="2" inverted="1" name="Is playing" sid="9565545343251847" type="PlayerSprite">
                            <param id="0" name="Animation">&quot;psycho_attack&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="9478930320000361">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="7355549929336376" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="2911260588463103" type="Player">
                                    <param id="0" name="Animation">&quot;psycho&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="6696104469142811">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="3758239966425549" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="5120758434645323" type="Player">
                                    <param id="0" name="Animation">&quot;normal&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8566539416045796">
                            <conditions>
                                <condition behavior="8Direction" id="0" name="Is moving" sid="4400069761052984" type="Player" />
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="588673675401375" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="2221692155814901" type="PlayerSprite">
                                    <param id="0" name="Animation">&quot;normal_walk&quot;</param>
                                    <param id="1" name="From">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1001135392606551">
                            <conditions>
                                <condition behavior="8Direction" id="0" inverted="1" name="Is moving" sid="8755220597383396" type="Player" />
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="4486926418450488" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="4252588431669953" type="PlayerSprite">
                                    <param id="0" name="Animation">&quot;normal_idle&quot;</param>
                                    <param id="1" name="From">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4449786622945306">
                            <conditions>
                                <condition behavior="8Direction" id="0" name="Is moving" sid="8174018370095479" type="Player" />
                                <condition id="-8" name="Is boolean instance variable set" sid="1339165828315215" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="4863978746149871" type="PlayerSprite">
                                    <param id="0" name="Animation">&quot;psycho_walk&quot;</param>
                                    <param id="1" name="From">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9446701385255657">
                            <conditions>
                                <condition behavior="8Direction" id="0" inverted="1" name="Is moving" sid="1348223608257064" type="Player" />
                                <condition id="-8" name="Is boolean instance variable set" sid="5164154990803143" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="8946015959680329" type="PlayerSprite">
                                    <param id="0" name="Animation">&quot;psycho_idle&quot;</param>
                                    <param id="1" name="From">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="46082344014569">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="1017303065290945" type="Keyboard">
                                    <param id="0" name="Key">37 (Left arrow)</param>
                                </condition>
                                <condition id="-8" name="Is boolean instance variable set" sid="4016118362173389" type="Player">
                                    <param id="0" name="Instance variable">enabled</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="7" name="Set mirrored" sid="5742504302887479" type="PlayerSprite">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action id="-8" name="Set angle" sid="5987009337828774" type="Player">
                                    <param id="0" name="Angle">180</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4917476975561126">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="5866415685972562" type="Keyboard">
                                    <param id="0" name="Key">39 (Right arrow)</param>
                                </condition>
                                <condition id="-8" name="Is boolean instance variable set" sid="6819160295831793" type="Player">
                                    <param id="0" name="Instance variable">enabled</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="7" name="Set mirrored" sid="7076312735157389" type="PlayerSprite">
                                    <param id="0" name="State">1</param>
                                </action>
                                <action id="-8" name="Set angle" sid="8113376948431394" type="Player">
                                    <param id="0" name="Angle">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="1717532419906604" title="PlayerActions">
            <sub-events>
                <event-block sid="9795959375078321">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="4786212667236818" type="Keyboard">
                            <param id="0" name="Key">32 (Space)</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="3521287661922152" type="Player">
                            <param id="0" name="Instance variable">enabled</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="6687428614602621">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="7763933311513504" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                                <condition id="2" inverted="1" name="Is playing" sid="8418578563079197" type="PlayerSprite">
                                    <param id="0" name="Animation">&quot;psycho_attack&quot;</param>
                                </condition>
                                <condition id="1" inverted="1" name="Is overlapping another object" sid="1725884508521045" type="Player">
                                    <param id="0" name="Object">ChangeRoom</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="3734797938626872" type="PlayerSprite">
                                    <param id="0" name="Animation">&quot;psycho_attack&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="6147592641176234" type="Player">
                                    <param id="0" name="Instance variable">enabled</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="8380832963137941">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="8342750219623792" type="KillZone">
                                            <param id="0" name="Object">Victim</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-13" name="Set boolean" sid="7406283299800335" type="Victim">
                                            <param id="0" name="Instance variable">killed</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="481060019307222" type="Victim" />
                                        <action id="-16" name="Set opacity" sid="9571293349738981" type="Overlay">
                                            <param id="0" name="Opacity">100</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="9237846896775594">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="1113627980032438" type="KillZone">
                                    <param id="0" name="Object">Victim</param>
                                </condition>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="7339908568129458" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="2656910911848496" type="Player">
                                    <param id="0" name="Instance variable">talking</param>
                                </condition>
                                <condition id="1" inverted="1" name="Is overlapping another object" sid="6073244225980151" type="Player">
                                    <param id="0" name="Object">ChangeRoom</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-42" name="Signal" sid="6779963022218359" type="System">
                                    <param id="0" name="Tag">&quot;DialogStarted&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="8524825042911645" type="System">
                                    <param id="0" name="Variable">talkingVictim</param>
                                    <param id="1" name="Value">Victim.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8029651014141298">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="3004053368870857" type="Player">
                                    <param id="0" name="Object">ChangeRoom</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-14" name="Toggle boolean" sid="4808045681954081" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="2930399898794792" title="PlayerIcons">
            <sub-events>
                <event-block sid="8542908327070804">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="3947744051724135" type="System" />
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="9342116827231291" type="PsychoIcon">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="3160673596350997" type="NormalIcon">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="3447183720774889" type="TalkIcon">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="4430813317051772" type="KillIcon">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3470531359201168">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="5287561985907452" type="KillZone">
                            <param id="0" name="Object">Victim</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="7607710418057289" type="Player">
                            <param id="0" name="Instance variable">enabled</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="2048222725017218">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="2340763972864413" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="4279420006967402" type="KillIcon">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7487614028249679">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="5861383758819133" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="8207049092114187" type="TalkIcon">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="6160929912239426">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="7427481349581418" type="Player">
                            <param id="0" name="Object">ChangeRoom</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="3795253715260936" type="Player">
                            <param id="0" name="Instance variable">enabled</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="476321207666466">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="2494290061394917" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="188263774340024" type="NormalIcon">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1433031244448133">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="6915903817405525" type="Player">
                                    <param id="0" name="Instance variable">psycho</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="490656427858272" type="PsychoIcon">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <include>Dialog events</include>
        <event-block sid="613237167374217">
            <conditions>
                <condition id="-1" name="Every tick" sid="4633554385097131" type="System" />
            </conditions>
            <actions>
                <action id="-41" name="Wait for signal" sid="7597291702262721" type="System">
                    <param id="0" name="Tag">&quot;DialogEnded&quot;</param>
                </action>
                <action id="-13" name="Set boolean" sid="3065329263084287" type="Player">
                    <param id="0" name="Instance variable">talking</param>
                    <param id="1" name="Value">0</param>
                </action>
                <action id="-13" name="Set boolean" sid="2807321903490697" type="Player">
                    <param id="0" name="Instance variable">enabled</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="598018971340213">
            <conditions>
                <condition id="4" name="On finished" sid="5229590177007786" type="PlayerSprite">
                    <param id="0" name="Animation">&quot;psycho_attack&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="-13" name="Set boolean" sid="179314912481877" type="Player">
                    <param id="0" name="Instance variable">enabled</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="4" name="Set animation" sid="546139031015139" type="PlayerSprite">
                    <param id="0" name="Animation">&quot;psycho_idle&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
